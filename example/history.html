<!DOCTYPE html>
<html lang="zh-ch">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>history 示例(需在服务器环境下运行)</title>
</head>

<body>
    <article id="app">
    </article>
    <a href="api a"> A 页面</a>
    <a href="api b"> B 页面</a>
</body>
<script>
    // 注册路由
    document.querySelectorAll('api').forEach(item => {
        item.addEventListener('click', e => {
            e.preventDefault()
            let link = item.textContent
            // 创建了一个历史记录
            window.history.pushState({ name: 'api'}, link, link)
        }, false)

        // 监听路由
        window.addEventListener('popstate', e => {
            console.log({
                location: location.href,
                state: e.state
            })
        })
    })
</script>

</html>